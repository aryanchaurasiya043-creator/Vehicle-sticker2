<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vehicle Sticker Designer</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fafafa;
      margin: 20px;
      text-align: center;
    }
    #design-canvas {
      border: 2px dashed #bbb;
      background: #f8f8f8;
      margin: 20px auto;
      display: block;
    }
    #controls {
      margin-bottom: 20px;
    }
    #stickers-list {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 15px;
    }
    .draggable-sticker {
      width: 50px;
      height: 50px;
      cursor: pointer;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 4px;
      background: #fff;
      transition: transform 0.2s;
    }
    .draggable-sticker:hover {
      transform: scale(1.15);
      border-color: #666;
    }
    button {
      padding: 8px 14px;
      margin: 5px;
      border: none;
      background: #333;
      color: #fff;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #555;
    }
    input, select {
      margin: 5px;
      padding: 6px;
    }
  </style>
</head>
<body>

  <h1>ðŸš— Vehicle Sticker Designer</h1>

  <!-- Text controls -->
  <div id="controls">
    <input type="text" id="text-input" placeholder="Enter text here">
    <select id="font-select">
      <option value="Arial">Arial</option>
      <option value="Comic Sans MS">Comic Sans</option>
      <option value="Courier New">Courier</option>
      <option value="Georgia">Georgia</option>
      <option value="Times New Roman">Times</option>
    </select>
    <input type="color" id="text-color" value="#000000">
    <input type="number" id="text-size" value="32" min="10" max="120">
    <button id="add-text-btn">Add Text</button>
    <button id="clear-btn">Clear All</button>
    <button id="download-btn">Download</button>
  </div>

  <!-- Main design canvas -->
  <canvas id="design-canvas" width="800" height="400"></canvas>

  <!-- Sticker toolbar -->
  <h3>ðŸŽ¨ Stickers</h3>
  <div id="stickers-list">
    <!-- Star -->
    <img src="data:image/svg+xml;utf8,
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
        <polygon points='32,4 39.5,24.6 60,24.6 43.5,38 50,58 32,46 14,58 20.5,38 4,24.6 24.5,24.6'
                 fill='%23FFD166' stroke='%23BB8000' stroke-width='2'/>
      </svg>" class="draggable-sticker" alt="star">

    <!-- Heart -->
    <img src="data:image/svg+xml;utf8,
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
        <path d='M32 54s-22-13.6-22-28.2S18.6 6 32 18c13.4-12 22 7.8 22 7.8S54 40.4 32 54z'
              fill='%23FF6B6B' stroke='%23C94B4B' stroke-width='2'/>
      </svg>" class="draggable-sticker" alt="heart">

    <!-- Flame -->
    <img src="data:image/svg+xml;utf8,
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
        <path d='M32 60C32 60 14 46 14 30 14 22 22 12 32 8c0 0-2 6 4 12 6 6 12 18 2 32-2 3-6 8-6 8z'
              fill='%23FF8A00' stroke='%23B85C00' stroke-width='2'/>
        <path d='M32 44c4-8 2-12-2-16-4 6-6 10-2 18 1 2 2 4 4 2z' fill='%23FFD166'/>
      </svg>" class="draggable-sticker" alt="flame">

    <!-- Lightning -->
    <img src="data:image/svg+xml;utf8,
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
        <polygon points='30,4 6,36 28,36 22,60 58,20 36,20 42,4'
                 fill='%23F9F871' stroke='%23D9C800' stroke-width='2'/>
      </svg>" class="draggable-sticker" alt="lightning">

    <!-- Music -->
    <img src="data:image/svg+xml;utf8,
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
        <path d='M48 8v32a8 8 0 1 1-4-7V20L24 24v20a8 8 0 1 1-4-7V16l28-8z'
              fill='%2396C8FB' stroke='%235A82B9' stroke-width='2'/>
      </svg>" class="draggable-sticker" alt="music">

    <!-- Sunglasses -->
    <img src="data:image/svg+xml;utf8,
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
        <rect x='6' y='26' width='20' height='12' rx='2' ry='2' fill='%23333'/>
        <rect x='38' y='26' width='20' height='12' rx='2' ry='2' fill='%23333'/>
        <path d='M26 32h12' stroke='%23333' stroke-width='3'/>
        <path d='M6 28L2 26' stroke='%23333' stroke-width='2'/>
        <path d='M62 26l-4 2' stroke='%23333' stroke-width='2'/>
      </svg>" class="draggable-sticker" alt="sunglasses">
  </div>

  <script>
    // Initialize Fabric canvas
    const canvas = new fabric.Canvas('design-canvas', {
      backgroundColor: '#f8f8f8',
      preserveObjectStacking: true
    });

    // Add sticker to Fabric.js canvas
    function addSticker(src) {
      fabric.Image.fromURL(src, function(img) {
        img.set({
          left: 100,
          top: 100,
          scaleX: 0.3,
          scaleY: 0.3,
          selectable: true
        });
        canvas.add(img).setActiveObject(img);
        canvas.renderAll();
      }, { crossOrigin: 'anonymous' });
    }

    // Attach event listeners to sticker toolbar
    document.querySelectorAll('.draggable-sticker').forEach(sticker => {
      sticker.addEventListener('click', () => addSticker(sticker.src));
    });

    // Add text to canvas
    document.getElementById('add-text-btn').addEventListener('click', () => {
      const textValue = document.getElementById('text-input').value.trim();
      if (!textValue) return;

      const font = document.getElementById('font-select').value;
      const color = document.getElementById('text-color').value;
      const size = parseInt(document.getElementById('text-size').value, 10);

      const text = new fabric.Textbox(textValue, {
        left: 150,
        top: 150,
        fontFamily: font,
        fill: color,
        fontSize: size
      });
      canvas.add(text).setActiveObject(text);
      canvas.renderAll();
    });

    // Clear all
    document.getElementById('clear-btn').addEventListener('click', () => {
      canvas.clear();
      canvas.backgroundColor = '#f8f8f8';
    });

    // Download as PNG
    document.getElementById('download-btn').addEventListener('click', () => {
      const dataURL = canvas.toDataURL({
        format: 'png',
        quality: 1
      });
      const link = document.createElement('a');
      link.href = dataURL;
      link.download = 'sticker-design.png';
      link.click();
    });
  </script>

</body>
</html>
